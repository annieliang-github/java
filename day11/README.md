day11
==

# 工厂方法设计模式(factory method)

## 概述
定义一个用于创建对象的接口，让子类决定实例化哪一个类。factory method使用一个类的实例化延迟到其子类。

## 应用场景
* 当一个类不知道它所必须创建的对象的类的时候
* 当一个希望由它的子类来指定它所创建的对象的时间点
* 当类将创建对象的职责委托给多个帮助子类中的某一个，并且你希望将哪一个帮助子类是代理者这一信息局部化的时候

## 工厂方法设计模式示例
[factory method](./src/com/java/www/FactoryMethodTest.java)

## 工厂方法设计总结
FactoryMethod模式是设计模式中应用最为广泛的模式，在面向对象的编程中，对象的创建工作非常简单，对象的创建时机却很重要。FactoryMethod解决的就是这个问题，它通过面向对象的手法，将所要创建的具体对象的创建工作延迟到了子类，从而提供了一种扩展的策略，较好的解决了这种紧耦合的关系。


# 代理模式(proxy)

## 概述
为其他对象提供一种代理以控制对这个对象的访问

## 示例
[proxy model](./src/com/java/www/ProxyTest.java)


# 接口和抽象类的关系
No. |区别 |抽象类 |接口
:---|--- |--- |--- 
1 |定义 |包含一个或以上抽象方法的类 |只含全局常量和抽象方法的集合 
2 |组成 |变量、常量、构造器、抽象方法、普通方法 |常量、抽象方法 
3 |使用 |子类继承抽象类(extends) |子类实现接口(implements)
4 |关系 |抽象类可以实现多个接口 |接口不能继承抽象类，但允许继承多个接口
5 |常见设计模式 |模板设计 |工厂设计、代理设计
6 |对象 |都通过对象的多态性产生实例对象 |同左
7 |局限 |抽象类有单继承的局限 |接口没有此局限 
8 |实际 |作为一个模板 |作为一个标准或一种能力 
9 |选择 |如果用抽象类和接口都能完成的，优先使用接口，可避免单继承的局限 |优先
10 |特殊 |一个抽象类中可以包含多个接口 |一个接口中可以包含多个抽象方法 

* 在开发中建议：一个类不要去继承一个已经实现好的类，要么继承抽象类，要么实现接口。


# 类的成员之五：内部类
* 类的内部可以再定义类。外面的类：外部类，里面定义的类：内部类
* 内部类分类
    * 成员内部类（声明在类的方法外）
    * 局部内部类（声明在类的方法里）
* 成员内部类
    * 是外部类的一个成员
        - 可以用修饰符(private、protected、public, default)，外部内只能有public 或default
        - static、final
        - 可以调用外部类的属性方法
    * 具有类的特点
        - 可以指定为 abstract类
        - 可以在其内部定义属性、方法、构造器
* 局部内部类
    * 常用方法：使其返回值为局部内部类或接口的对象。这个类或接口在方法内部创建
    * 没有修饰符
    * 匿名内部类
    

* 内部类重点
    * 如何创建成员内部类的对象
        - 静态成员内部类创建对象
            Person p1 = new Person("钟侃扎", 24);
            Person.Bird b1 = p1.new Bird("Polly", 500);
        - 静态成员内部类创建对象
            Person.Dog d1 = new Person.Dog("皮卡丘", "yello");
    * 如何区分调用外部类、内部类的变量，尤其是重名时
        - 内部类的变量：this.xx,
        - 外部类的变量：外部类.this.xx
    * 局部内部类的使用
    * Inner class的名字不能与包含它的类名相同
    * 非static的内部类中的成员不能声明为static的，只有在外部类或static的内部类中才可声明static成员
    
## 内部类示例
[Inner Class](./src/com/java/www/InnerClassTest.java)


# 匿名内部类
匿名内部类不能定义任何静态成员、方法和类，  只能创建匿名内部类的一个实例。  
一个匿名内部类一定是在new的后面，用其隐含实现一个接口或实现一个类

## 匿名内部示例  
[Anonymous Inner Class](./src/com/java/www/AnonymousInnerClassTest.java)



